<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geli≈ümi≈ü Ki≈üisel Finans Y√∂neticisi</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Login Screen - Giri≈ü Ekranƒ± -->
    <div id="loginScreen" class="login-screen">
        <!-- Login container - giri≈ü formu container'ƒ± -->
        <div class="login-container">
            <!-- Uygulama ba≈ülƒ±ƒüƒ± -->
            <h1>üí∞ Finans Y√∂neticisi</h1>
            
            <div id="loginForm">
                <!-- Kullanƒ±cƒ± adƒ± form grubu -->
                <div class="form-group">
                    <label for="username">Kullanƒ±cƒ± Adƒ±:</label>
                    <input type="text" id="username" required>
                </div>
                <!-- ≈ûifre form grubu -->
                <div class="form-group">
                    <label for="password">≈ûifre:</label>
                    <input type="password" id="password" required>
                </div>
                <!-- Giri≈ü yap butonu -->
                <button class="btn" onclick="login()">Giri≈ü Yap</button>
                <!-- Kayƒ±t ol butonu -->
                <button class="btn btn-secondary" onclick="showRegister()">Kayƒ±t Ol</button>
            </div>
            
            <!-- Kayƒ±t formu (ba≈ülangƒ±√ßta gizli) -->
            <div id="registerForm" class="hidden">
                <!-- Ad soyad form grubu -->
                <div class="form-group">
                    <label for="regFullName">Ad Soyad:</label>
                    <input type="text" id="regFullName" required>
                </div>
                <!-- Kullanƒ±cƒ± adƒ± form grubu -->
                <div class="form-group">
                    <label for="regUsername">Kullanƒ±cƒ± Adƒ±:</label>
                    <input type="text" id="regUsername" required>
                </div>
                <!-- ≈ûifre form grubu -->
                <div class="form-group">
                    <label for="regPassword">≈ûifre:</label>
                    <input type="password" id="regPassword" required>
                </div>
                <!-- E-posta form grubu -->
                <div class="form-group">
                    <label for="regEmail">E-posta:</label>
                    <input type="email" id="regEmail" required>
                </div>
                <!-- Kayƒ±t ol butonu -->
                <button class="btn btn-success" onclick="register()">Kayƒ±t Ol</button>
                <!-- Giri≈ü ekranƒ±na d√∂n butonu -->
                <button class="btn btn-secondary" onclick="showLogin()">Giri≈ü Ekranƒ±na D√∂n</button>
            </div>
            <!-- Kimlik doƒürulama mesaj alanƒ± -->
            <div id="authMessage"></div>
        </div>
    </div>

    <!-- Main Application - Ana Uygulama (ba≈ülangƒ±√ßta gizli) -->
    <div id="mainApp" class="container hidden">
        <!-- Header - √úst ba≈ülƒ±k b√∂l√ºm√º -->
        <div class="header">
            <!-- Header i√ßerik -->
            <div class="header-content">
                <h1>üí∞ Ki≈üisel Finans Y√∂neticisi</h1>
                <p>Gelir ve giderlerinizi kolayca takip edin ve kontrol altƒ±nda tutun</p>
            </div>
            <!-- Kullanƒ±cƒ± bilgileri -->
            <div class="user-info">
                <h3>Ho≈ü geldin, <span id="currentUserName"></span>!</h3>
                <button class="btn btn-logout" onclick="logout()">√áƒ±kƒ±≈ü Yap</button>
            </div>
        </div>

        <!-- Ana i√ßerik b√∂l√ºm√º -->
        <div class="main-content">
            <!-- √ñzet Kartlarƒ± - toplam gelir, gider, bakiye g√∂sterimi -->
            <div class="summary-cards">
                <!-- Toplam gelir kartƒ± -->
                <div class="card income">
                    <h3>üìà Toplam Gelir</h3>
                    <div class="amount" id="totalIncome">‚Ç∫0.00</div>
                </div>
                <!-- Toplam gider kartƒ± -->
                <div class="card expense">
                    <h3>üìâ Toplam Gider</h3>
                    <div class="amount" id="totalExpense">‚Ç∫0.00</div>
                </div>
                <!-- Net bakiye kartƒ± -->
                <div class="card balance">
                    <h3>üí≥ Net Bakiye</h3>
                    <div class="amount" id="netBalance">‚Ç∫0.00</div>
                </div>
            </div>  

            <!-- Grafik G√∂sterimi - pasta grafiƒüi container'ƒ± -->
            <div class="chart-container">
                <h3 class="chart-title">üìä Gelir-Gider Grafiƒüi</h3>
                <!-- Canvas elementi grafik √ßizimi i√ßin -->
                <canvas id="incomeExpenseChart" width="400" height="400"></canvas>
            </div>

            <!-- Kategori Analizi - gider kategorilerinin analizi -->
            <div class="category-analysis">
                <h3 class="section-title">üè∑Ô∏è Kategori Bazlƒ± Analiz</h3>
                <!-- Kategori istatistikleri container'ƒ± -->
                <div class="category-stats" id="categoryStats"></div>
            </div>

            <!-- Kategori Y√∂netimi - yeni kategori ekleme ve mevcut kategorileri g√∂r√ºnt√ºleme -->
            <div class="category-manager">
                <h3>üè∑Ô∏è Gider Kategori Y√∂netimi</h3>
                <div class="form-row">
                    <!-- Yeni kategori giri≈üi -->
                    <div class="form-group">
                        <input type="text" id="newCategory" placeholder="Yeni kategori adƒ±">
                    </div>
                    <!-- Kategori ekleme butonu -->
                    <div class="form-group">
                        <button class="btn btn-success" onclick="addCategory()">Kategori Ekle</button>
                    </div>
                </div>
                <!-- Mevcut kategorilerin listesi -->
                <div class="category-list" id="categoryList"></div>
            </div>

            <!-- VERƒ∞ EKLEME FORMU B√ñL√úM√ú -->
            <!-- Bu b√∂l√ºm yeni gelir/gider kayƒ±tlarƒ± eklemek i√ßin kullanƒ±lƒ±r -->
            <div class="form-section">
                <!-- B√∂l√ºm ba≈ülƒ±ƒüƒ± - emoji ile g√∂rsel zenginlik -->
                <h3>‚ûï Yeni Kayƒ±t Ekle</h3>
                
                <!-- Ana form elementi - JavaScript ile i≈ülenecek -->
                <form id="transactionForm">
                    
                    <!-- ƒ∞lk satƒ±r: T√ºr, Miktar ve Tarih alanlarƒ± -->
                    <div class="form-row">
                        
                        <!-- T√ºr se√ßimi (Gelir/Gider) -->
                        <div class="form-group">
                            <label for="type">T√ºr:</label>
                            <select id="type" required>
                                <option value="">Se√ßiniz</option>        <!-- Varsayƒ±lan bo≈ü se√ßenek -->
                                <option value="income">Gelir</option>     <!-- Gelir se√ßeneƒüi -->
                                <option value="expense">Gider</option>    <!-- Gider se√ßeneƒüi -->
                            </select>
                        </div>
                        
                        <!-- Miktar giri≈üi - para birimi T√ºrk Lirasƒ± -->
                        <div class="form-group">
                            <label for="amount">Miktar (‚Ç∫):</label>
                            <!-- number input: ondalƒ±k destekli, minimum 0, gerekli alan -->
                            <input type="number" id="amount" step="0.01" min="0" required>
                        </div>
                        
                        <!-- Tarih se√ßimi -->
                        <div class="form-group">
                            <label for="date">Tarih:</label>
                            <input type="date" id="date" required>  <!-- HTML5 tarih se√ßici -->
                        </div>
                    </div>
                    
                    <!-- ƒ∞kinci satƒ±r: A√ßƒ±klama ve Kategori alanlarƒ± -->
                    <div class="form-row">
                        
                        <!-- A√ßƒ±klama metni -->
                        <div class="form-group">
                            <label for="description">A√ßƒ±klama:</label>
                            <input type="text" id="description" required>
                        </div>
                        
                        <!-- Kategori se√ßimi - ba≈ülangƒ±√ßta gizli (JavaScript ile kontrol edilir) -->
                        <div class="form-group" id="categoryGroup" style="display:none;">
                            <label for="category">Kategori:</label>
                            <!-- Se√ßenekler JavaScript ile dinamik olarak doldurulacak -->
                            <select id="category"></select>
                        </div>
                    </div>
                    
                    <!-- Form g√∂nderme butonu -->
                    <button type="submit" class="btn">Kayƒ±t Ekle</button>
                </form>
                
                <!-- Mesaj g√∂sterme alanƒ± (ba≈üarƒ±/hata mesajlarƒ± i√ßin) -->
                <div id="messageArea"></div>
            </div>

            <!-- CSV DOSYA ƒ∞≈ûLEMLERƒ∞ B√ñL√úM√ú -->
            <!-- Bu b√∂l√ºm veri i√ße/dƒ±≈üa aktarma i≈ülemleri i√ßin -->
            <div class="csv-section">
                <!-- B√∂l√ºm ba≈ülƒ±ƒüƒ± -->
                <h3>üìÅ CSV Dosya ƒ∞≈ülemleri</h3>
                
                <div class="form-row">
                    <div class="form-group">
                        <!-- CSV olarak dƒ±≈üa aktarma butonu -->
                        <!-- onclick ile JavaScript fonksiyonu √ßaƒürƒ±lƒ±r -->
                        <button class="btn btn-success" onclick="exportToCSV()">CSV Olarak ƒ∞ndir</button>
                        
                        <!-- Dosya se√ßme input'u - gizli tutulur -->
                        <!-- Sadece .csv dosyalarƒ±nƒ± kabul eder -->
                        <input type="file" id="csvFileInput" accept=".csv" style="display:none;">
                        
                        <!-- CSV y√ºkleme butonu - gizli file input'u tetikler -->
                        <button class="btn" onclick="document.getElementById('csvFileInput').click()">CSV Y√ºkle</button>
                    </div>
                </div>
            </div>

            <!-- VERƒ∞ TABLOSU B√ñL√úM√ú -->
            <!-- Bu b√∂l√ºm mevcut kayƒ±tlarƒ± tablo halinde g√∂sterir -->
            <div class="data-section">
                <!-- B√∂l√ºm ba≈ülƒ±ƒüƒ± -->
                <h2 class="section-title">üìä Kayƒ±tlarƒ±m</h2>
                
                <!-- Tablo container'ƒ± - responsive tasarƒ±m i√ßin -->
                <div class="table-container">
                    <!-- Ana veri tablosu -->
                    <table id="transactionTable">
                        <!-- Tablo ba≈ülƒ±k satƒ±rƒ± -->
                        <thead>
                            <tr>
                                <th>Tarih</th>      <!-- Tarih s√ºtunu -->
                                <th>T√ºr</th>        <!-- Gelir/Gider s√ºtunu -->
                                <th>A√ßƒ±klama</th>   <!-- A√ßƒ±klama s√ºtunu -->
                                <th>Kategori</th>   <!-- Kategori s√ºtunu -->
                                <th>Miktar</th>     <!-- Para miktarƒ± s√ºtunu -->
                                <th>ƒ∞≈ülemler</th>   <!-- D√ºzenle/Sil butonlarƒ± s√ºtunu -->
                            </tr>
                        </thead>
                        
                        <!-- Tablo g√∂vdesi - JavaScript ile dinamik olarak doldurulacak -->
                        <tbody id="transactionTableBody">
                            <!-- Veri satƒ±rlarƒ± buraya JavaScript ile eklenecek -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        
        // Global deƒüi≈ükenler
        let currentUser = null; // ≈ûu anda giri≈ü yapmƒ±≈ü kullanƒ±cƒ±
        let users = []; // T√ºm kullanƒ±cƒ±larƒ±n listesi
        let transactions = []; // Aktif kullanƒ±cƒ±nƒ±n i≈ülemleri
        let categories = ['Yiyecek', 'Ula≈üƒ±m', 'Eƒülence', 'Faturalar', 'Alƒ±≈üveri≈ü', 'Saƒülƒ±k', 'Eƒüitim']; // Varsayƒ±lan kategoriler

        // === USER AUTHENTICATION SYSTEM ===
        
        // Sayfa y√ºklendiƒüinde √ßalƒ±≈üacak fonksiyon
        document.addEventListener('DOMContentLoaded', function() { // DOM y√ºklenince √ßalƒ±≈ü
            loadUsersFromStorage(); // Kullanƒ±cƒ±larƒ± localStorage'dan y√ºkle
            checkAutoLogin(); // Otomatik giri≈ü kontrol√º yap
            
            // Form g√∂nderimi i√ßin olay dinleyicisi
            document.getElementById('transactionForm').addEventListener('submit', handleFormSubmit); // ƒ∞≈ülem formu g√∂nderilince handleFormSubmit'i √ßalƒ±≈ütƒ±r
            
            // T√ºr deƒüi≈ütiƒüinde kategori alanƒ±nƒ± g√∂ster/gizle
            document.getElementById('type').addEventListener('change', toggleCategoryField); // Gelir/gider se√ßimi deƒüi≈üince kategori alanƒ±nƒ± ayarla
            
            // CSV dosya y√ºkleme
            document.getElementById('csvFileInput').addEventListener('change', handleCSVUpload); // CSV dosya se√ßilince y√ºkleme fonksiyonunu √ßalƒ±≈ütƒ±r
        });

        // Otomatik giri≈ü kontrol√º
        function checkAutoLogin() { // Otomatik giri≈ü kontrol fonksiyonu
            const savedUser = localStorage.getItem('currentUser'); // localStorage'dan kullanƒ±cƒ± bilgisini al
            if (savedUser) { // Eƒüer kaydedilmi≈ü kullanƒ±cƒ± varsa
                currentUser = JSON.parse(savedUser); // JSON'dan objeye √ßevir
                showMainApp(); // Ana uygulamayƒ± g√∂ster
            }
        }

        // Kullanƒ±cƒ± kayƒ±t
        function register() { // Kayƒ±t fonksiyonu
            const fullName = document.getElementById('regFullName').value.trim(); // Ad soyad al ve bo≈üluklarƒ± temizle
            const username = document.getElementById('regUsername').value.trim(); // Kullanƒ±cƒ± adƒ±nƒ± al ve bo≈üluklarƒ± temizle
            const password = document.getElementById('regPassword').value; // ≈ûifreyi al
            const email = document.getElementById('regEmail').value.trim(); // Email'i al ve bo≈üluklarƒ± temizle

            if (!fullName || !username || !password || !email) { // Eƒüer herhangi bir alan bo≈üsa
                showAuthMessage('L√ºtfen t√ºm alanlarƒ± doldurun!', 'error'); // Hata mesajƒ± g√∂ster
                return; // Fonksiyondan √ßƒ±k
            }

            // Kullanƒ±cƒ± adƒ± kontrol√º
            if (users.find(u => u.username === username)) { // Aynƒ± kullanƒ±cƒ± adƒ± var mƒ± kontrol et
                showAuthMessage('Bu kullanƒ±cƒ± adƒ± zaten kullanƒ±lƒ±yor!', 'error'); // Hata mesajƒ± g√∂ster
                return; // Fonksiyondan √ßƒ±k
            }

            // Email kontrol√º
            if (users.find(u => u.email === email)) { // Aynƒ± email var mƒ± kontrol et
                showAuthMessage('Bu e-posta adresi zaten kullanƒ±lƒ±yor!', 'error'); // Hata mesajƒ± g√∂ster
                return; // Fonksiyondan √ßƒ±k
            }

            // Yeni kullanƒ±cƒ± olu≈ütur
            const newUser = { // Yeni kullanƒ±cƒ± objesi olu≈ütur
                id: Date.now(), // Benzersiz ID i√ßin ≈üu anki zamanƒ± kullan
                fullName, // Ad soyad
                username, // Kullanƒ±cƒ± adƒ±
                password, // ≈ûifre (ger√ßek uygulamada hash'lenmeli)
                email, // Email
                createdAt: new Date().toISOString(), // Olu≈üturulma tarihi
                transactions: [], // Bo≈ü i≈ülemler dizisi
                categories: [...categories] // Varsayƒ±lan kategorilerin kopyasƒ±
            };

            users.push(newUser); // Yeni kullanƒ±cƒ±yƒ± diziye ekle
            saveUsersToStorage(); // Kullanƒ±cƒ±larƒ± kaydet
            
            showAuthMessage('Kayƒ±t ba≈üarƒ±lƒ±! ≈ûimdi giri≈ü yapabilirsiniz.', 'success'); // Ba≈üarƒ± mesajƒ± g√∂ster
            setTimeout(() => { // 1.5 saniye sonra
                showLogin(); // Giri≈ü formuna ge√ß
            }, 1500);
        }

        // Kullanƒ±cƒ± giri≈üi
        function login() { // Giri≈ü fonksiyonu
            const username = document.getElementById('username').value.trim(); // Kullanƒ±cƒ± adƒ±nƒ± al
            const password = document.getElementById('password').value; // ≈ûifreyi al

            if (!username || !password) { // Eƒüer kullanƒ±cƒ± adƒ± veya ≈üifre bo≈üsa
                showAuthMessage('Kullanƒ±cƒ± adƒ± ve ≈üifre gerekli!', 'error'); // Hata mesajƒ± g√∂ster
                return; // Fonksiyondan √ßƒ±k
            }

            const user = users.find(u => u.username === username && u.password === password); // Kullanƒ±cƒ±yƒ± bul
            
            if (user) { // Kullanƒ±cƒ± bulunduysa
                currentUser = user; // Mevcut kullanƒ±cƒ±yƒ± ayarla
                localStorage.setItem('currentUser', JSON.stringify(user)); // localStorage'a kaydet
                showMainApp(); // Ana uygulamayƒ± g√∂ster
            } else { // Kullanƒ±cƒ± bulunamadƒ±ysa
                showAuthMessage('Hatalƒ± kullanƒ±cƒ± adƒ± veya ≈üifre!', 'error'); // Hata mesajƒ± g√∂ster
            }
        }

        // √áƒ±kƒ±≈ü yap
        function logout() { // √áƒ±kƒ±≈ü fonksiyonu
            if (confirm('√áƒ±kƒ±≈ü yapmak istediƒüinizden emin misiniz?')) { // Onay al
                currentUser = null; // Mevcut kullanƒ±cƒ±yƒ± sƒ±fƒ±rla
                localStorage.removeItem('currentUser'); // localStorage'dan sil
                document.getElementById('loginScreen').classList.remove('hidden'); // Giri≈ü ekranƒ±nƒ± g√∂ster
                document.getElementById('mainApp').classList.add('hidden'); // Ana uygulamayƒ± gizle
                
                // Formu temizle
                document.getElementById('username').value = ''; // Kullanƒ±cƒ± adƒ± alanƒ±nƒ± temizle
                document.getElementById('password').value = ''; // ≈ûifre alanƒ±nƒ± temizle
                showLogin(); // Giri≈ü formunu g√∂ster
            }
        }

        // Ana uygulamayƒ± g√∂ster
        function showMainApp() { // Ana uygulama g√∂sterme fonksiyonu
            document.getElementById('loginScreen').classList.add('hidden'); // Giri≈ü ekranƒ±nƒ± gizle
            document.getElementById('mainApp').classList.remove('hidden'); // Ana uygulamayƒ± g√∂ster
            document.getElementById('currentUserName').textContent = currentUser.fullName; // Kullanƒ±cƒ± adƒ±nƒ± g√∂ster
            
            // Kullanƒ±cƒ± verilerini y√ºkle
            transactions = currentUser.transactions || []; // ƒ∞≈ülemleri y√ºkle (yoksa bo≈ü dizi)
            categories = currentUser.categories || [...categories]; // Kategorileri y√ºkle
            
            initializeApp(); // Uygulamayƒ± ba≈ülat
        }

        // Login/Register form deƒüi≈ütirme
        function showLogin() { // Giri≈ü formunu g√∂sterme fonksiyonu
            document.getElementById('loginForm').classList.remove('hidden'); // Giri≈ü formunu g√∂ster
            document.getElementById('registerForm').classList.add('hidden'); // Kayƒ±t formunu gizle
            clearAuthMessage(); // Mesajlarƒ± temizle
        }

        function showRegister() { // Kayƒ±t formunu g√∂sterme fonksiyonu
            document.getElementById('loginForm').classList.add('hidden'); // Giri≈ü formunu gizle
            document.getElementById('registerForm').classList.remove('hidden'); // Kayƒ±t formunu g√∂ster
            clearAuthMessage(); // Mesajlarƒ± temizle
        }

        // Auth mesaj g√∂sterme
        function showAuthMessage(message, type) { // Kimlik doƒürulama mesajƒ± g√∂sterme fonksiyonu
            const messageArea = document.getElementById('authMessage'); // Mesaj alanƒ±nƒ± al
            messageArea.innerHTML = `<div class="${type === 'success' ? 'success-message' : 'error-message'}">${message}</div>`; // Mesajƒ± g√∂ster
        }

        function clearAuthMessage() { // Kimlik doƒürulama mesajƒ±nƒ± temizleme fonksiyonu
            document.getElementById('authMessage').innerHTML = ''; // Mesaj alanƒ±nƒ± temizle
        }

        // Kullanƒ±cƒ±larƒ± storage'dan y√ºkle
        function loadUsersFromStorage() { // Kullanƒ±cƒ±larƒ± localStorage'dan y√ºkleme fonksiyonu
            const savedUsers = localStorage.getItem('financeAppUsers'); // Kaydedilmi≈ü kullanƒ±cƒ±larƒ± al
            if (savedUsers) { // Eƒüer kaydedilmi≈ü kullanƒ±cƒ±lar varsa
                users = JSON.parse(savedUsers); // JSON'dan diziye √ßevir
            }
        }

        // Kullanƒ±cƒ±larƒ± storage'a kaydet
        function saveUsersToStorage() { // Kullanƒ±cƒ±larƒ± localStorage'a kaydetme fonksiyonu
            localStorage.setItem('financeAppUsers', JSON.stringify(users)); // Kullanƒ±cƒ±larƒ± JSON olarak kaydet
        }

        // === MAIN APPLICATION FUNCTIONS ===

        // Uygulamayƒ± ba≈ülat
        function initializeApp() { // Uygulama ba≈ülatma fonksiyonu
            updateCategoryList(); // Kategori listesini g√ºncelle
            updateCategorySelect(); // Kategori se√ßim listesini g√ºncelle
            updateDisplay(); // Ekranƒ± g√ºncelle
            updateCategoryAnalysis(); // Kategori analizini g√ºncelle
            drawChart(); // Grafiƒüi √ßiz
            setTodayDate(); // Bug√ºn√ºn tarihini ayarla
        }

        // Bug√ºn√ºn tarihini form alanƒ±na set et
        function setTodayDate() { // Bug√ºn√ºn tarihini ayarlama fonksiyonu
            const today = new Date().toISOString().split('T')[0]; // Bug√ºn√ºn tarihini YYYY-MM-DD formatƒ±nda al
            document.getElementById('date').value = today; // Tarih alanƒ±na bug√ºn√ºn tarihini yaz
        }

        // Kategori alanƒ±nƒ± g√∂ster/gizle
        function toggleCategoryField() { // Kategori alanƒ±nƒ± a√ßma/kapama fonksiyonu
            const type = document.getElementById('type').value; // Se√ßilen t√ºr√º al
            const categoryGroup = document.getElementById('categoryGroup'); // Kategori grubunu al
            
            if (type === 'expense') { // Eƒüer gider se√ßildiyse
                categoryGroup.style.display = 'block'; // Kategori alanƒ±nƒ± g√∂ster
                document.getElementById('category').required = true; // Kategori se√ßimini zorunlu yap
            } else { // Deƒüilse
                categoryGroup.style.display = 'none'; // Kategori alanƒ±nƒ± gizle
                document.getElementById('category').required = false; // Kategori se√ßimini isteƒüe baƒülƒ± yap
            }
        }

        // Form g√∂nderimi i≈üleme
        function handleFormSubmit(e) { // Form g√∂nderim i≈üleme fonksiyonu
            e.preventDefault(); // Varsayƒ±lan form g√∂nderimini engelle
            
            const formData = { // Form verilerini al
                type: document.getElementById('type').value, // T√ºr
                amount: parseFloat(document.getElementById('amount').value), // Miktar (sayƒ±ya √ßevir)
                date: document.getElementById('date').value, // Tarih
                description: document.getElementById('description').value, // A√ßƒ±klama
                category: document.getElementById('category').value || '' // Kategori (yoksa bo≈ü string)
            };

            // Form doƒürulama
            if (!validateForm(formData)) { // Form ge√ßerli deƒüilse
                return; // Fonksiyondan √ßƒ±k
            }

            // Yeni i≈ülem ekle
            addTransaction(formData); // ƒ∞≈ülemi ekle
            
            // Formu temizle
            document.getElementById('transactionForm').reset(); // Formu sƒ±fƒ±rla
            setTodayDate(); // Bug√ºn√ºn tarihini tekrar ayarla
            toggleCategoryField(); // Kategori alanƒ±nƒ± ayarla
            
            showMessage('Kayƒ±t ba≈üarƒ±yla eklendi!', 'success'); // Ba≈üarƒ± mesajƒ± g√∂ster
        }

        // Form doƒürulama
        function validateForm(data) { // Form doƒürulama fonksiyonu
            if (!data.type || !data.amount || !data.date || !data.description) { // Gerekli alanlar bo≈üsa
                showMessage('L√ºtfen t√ºm gerekli alanlarƒ± doldurun!', 'error'); // Hata mesajƒ± g√∂ster
                return false; // Ge√ßersiz
            }

            if (data.amount <= 0) { // Miktar sƒ±fƒ±r veya negatifse
                showMessage('Miktar pozitif bir deƒüer olmalƒ±dƒ±r!', 'error'); // Hata mesajƒ± g√∂ster
                return false; // Ge√ßersiz
            }

            if (data.type === 'expense' && !data.category) { // Gider t√ºr√º se√ßilmi≈ü ama kategori yoksa
                showMessage('Gider i√ßin kategori se√ßimi zorunludur!', 'error'); // Hata mesajƒ± g√∂ster
                return false; // Ge√ßersiz
            }

            const dateRegex = /^\d{4}-\d{2}-\d{2}$/; // Tarih formatƒ±nƒ± kontrol eden regex
            if (!dateRegex.test(data.date)) { // Tarih formatƒ± yanlƒ±≈üsa
                showMessage('Ge√ßerli bir tarih giriniz!', 'error'); // Hata mesajƒ± g√∂ster
                return false; // Ge√ßersiz
            }

            return true; // Ge√ßerli
        }

        // Yeni i≈ülem ekleme
        function addTransaction(data) { // ƒ∞≈ülem ekleme fonksiyonu
            const transaction = { // Yeni i≈ülem objesi
                id: Date.now(), // Benzersiz ID
                userId: currentUser.id, // Kullanƒ±cƒ± ID'si
                ...data, // Form verilerini ekle
                timestamp: new Date().toISOString() // Ekleme zamanƒ±
            };

            transactions.push(transaction); // ƒ∞≈ülemi diziye ekle
            saveUserData(); // Kullanƒ±cƒ± verilerini kaydet
            updateDisplay(); // Ekranƒ± g√ºncelle
            updateCategoryAnalysis(); // Kategori analizini g√ºncelle
            drawChart(); // Grafiƒüi yeniden √ßiz
        }

        // ƒ∞≈ülem silme
        function deleteTransaction(id) { // ƒ∞≈ülem silme fonksiyonu
            if (confirm('Bu kaydƒ± silmek istediƒüinizden emin misiniz?')) { // Onay al
                transactions = transactions.filter(t => t.id !== parseInt(id)); // ƒ∞≈ülemi diziden √ßƒ±kar
                saveUserData(); // Kullanƒ±cƒ± verilerini kaydet
                updateDisplay(); // Ekranƒ± g√ºncelle
                updateCategoryAnalysis(); // Kategori analizini g√ºncelle
                drawChart(); // Grafiƒüi yeniden √ßiz
                showMessage('Kayƒ±t ba≈üarƒ±yla silindi!', 'success'); // Ba≈üarƒ± mesajƒ± g√∂ster
            }
        }

        // Kategori ekleme
        function addCategory() { // Kategori ekleme fonksiyonu
            const newCategory = document.getElementById('newCategory').value.trim(); // Yeni kategori adƒ±nƒ± al
            
            if (!newCategory) { // Kategori adƒ± bo≈üsa
                showMessage('Kategori adƒ± bo≈ü olamaz!', 'error'); // Hata mesajƒ± g√∂ster
                return; // Fonksiyondan √ßƒ±k
            }

            if (categories.includes(newCategory)) { // Kategori zaten varsa
                showMessage('Bu kategori zaten mevcut!', 'error'); // Hata mesajƒ± g√∂ster
                return; // Fonksiyondan √ßƒ±k
            }

            categories.push(newCategory); // Kategoriyi diziye ekle
            document.getElementById('newCategory').value = ''; // Input alanƒ±nƒ± temizle
            updateCategoryList(); // Kategori listesini g√ºncelle
            updateCategorySelect(); // Kategori se√ßim listesini g√ºncelle
            saveUserData(); // Kullanƒ±cƒ± verilerini kaydet
            showMessage('Kategori ba≈üarƒ±yla eklendi!', 'success'); // Ba≈üarƒ± mesajƒ± g√∂ster
        }

        // Kategori silme
        function removeCategory(categoryName) { // Kategori silme fonksiyonu
            if (confirm(`"${categoryName}" kategorisini silmek istediƒüinizden emin misiniz?`)) { // Onay al
                // √ñnce bu kategoriye ait giderleri kontrol et
                const categoryTransactions = transactions.filter(t => t.category === categoryName); // Bu kategorideki i≈ülemleri bul
                
                if (categoryTransactions.length > 0) { // Eƒüer bu kategoride i≈ülemler varsa
                    if (!confirm(`Bu kategoriye ait ${categoryTransactions.length} gider kaydƒ± var. Kategori silinirse bu kayƒ±tlar "Diƒüer" kategorisine ta≈üƒ±nacak. Devam etmek istiyor musunuz?`)) { // Tekrar onay al
                        return; // Fonksiyondan √ßƒ±k
                    }
                    
                    // "Diƒüer" kategorisini ekle (yoksa)
                    if (!categories.includes('Diƒüer')) { // "Diƒüer" kategorisi yoksa
                        categories.push('Diƒüer'); // "Diƒüer" kategorisini ekle
                    }
                    
                    // ƒ∞lgili i≈ülemleri "Diƒüer" kategorisine ta≈üƒ±
                    transactions.forEach(t => { // Her i≈ülem i√ßin
                        if (t.category === categoryName) { // Eƒüer silinecek kategorideyse
                            t.category = 'Diƒüer'; // "Diƒüer" kategorisine ta≈üƒ±
                        }
                    });
                }
                
                // Kategoriyi sil
                categories = categories.filter(c => c !== categoryName); // Kategoriyi diziden √ßƒ±kar
                updateCategoryList(); // Kategori listesini g√ºncelle
                updateCategorySelect(); // Kategori se√ßim listesini g√ºncelle
                updateCategoryAnalysis(); // Kategori analizini g√ºncelle
                saveUserData(); // Kullanƒ±cƒ± verilerini kaydet
                showMessage('Kategori ba≈üarƒ±yla silindi!', 'success'); // Ba≈üarƒ± mesajƒ± g√∂ster
            }
        }

        // Kullanƒ±cƒ± verilerini kaydetme
        function saveUserData() { // Kullanƒ±cƒ± verilerini kaydetme fonksiyonu
            if (currentUser) { // Eƒüer mevcut kullanƒ±cƒ± varsa
                currentUser.transactions = transactions; // ƒ∞≈ülemleri kullanƒ±cƒ±ya ata
                currentUser.categories = categories; // Kategorileri kullanƒ±cƒ±ya ata
                
                // Users dizisindeki kullanƒ±cƒ±yƒ± g√ºncelle
                const userIndex = users.findIndex(u => u.id === currentUser.id); // Kullanƒ±cƒ±nƒ±n dizideki indeksini bul
                if (userIndex !== -1) { // Kullanƒ±cƒ± bulunduysa
                    users[userIndex] = currentUser; // Kullanƒ±cƒ±yƒ± g√ºncelle
                }
                
                // Local storage'ƒ± g√ºncelle
                localStorage.setItem('currentUser', JSON.stringify(currentUser)); // Mevcut kullanƒ±cƒ±yƒ± kaydet
                saveUsersToStorage(); // T√ºm kullanƒ±cƒ±larƒ± kaydet
            }
        }

        // Kategori listesini g√ºncelleme
        function updateCategoryList() { // Kategori listesini g√ºncelleme fonksiyonu
            const categoryList = document.getElementById('categoryList'); // Kategori listesi elementini al
            categoryList.innerHTML = ''; // Listeyi temizle
            
            categories.forEach(category => { // Her kategori i√ßin
                const categoryTag = document.createElement('div'); // Yeni div elementi olu≈ütur
                categoryTag.className = 'category-tag'; // CSS sƒ±nƒ±fƒ±nƒ± ata
                categoryTag.innerHTML = `
                    ${category}
                    <button class="category-remove" onclick="removeCategory('${category}')" title="Kategoriyi Sil">
                        √ó
                    </button>
                `; // ƒ∞√ßeriƒüi ayarla
                categoryList.appendChild(categoryTag); // Listeye ekle
            });
        }

        // Kategori select'ini g√ºncelleme
        function updateCategorySelect() { // Kategori se√ßim listesini g√ºncelleme fonksiyonu
            const categorySelect = document.getElementById('category'); // Kategori se√ßim elementini al
            categorySelect.innerHTML = '<option value="">Kategori Se√ßiniz</option>'; // Varsayƒ±lan se√ßeneƒüi ekle
            
            categories.forEach(category => { // Her kategori i√ßin
                const option = document.createElement('option'); // Yeni option elementi olu≈ütur
                option.value = category; // Deƒüeri ayarla
                option.textContent = category; // Metni ayarla
                categorySelect.appendChild(option); // Se√ßim listesine ekle
            });
        }

        // Ekranƒ± g√ºncelleme
        function updateDisplay() { // Ekran g√ºncelleme fonksiyonu
            updateSummaryCards(); // √ñzet kartlarƒ±nƒ± g√ºncelle
            updateTransactionTable(); // ƒ∞≈ülem tablosunu g√ºncelle
        }

        // √ñzet kartlarƒ±nƒ± g√ºncelleme
        function updateSummaryCards() { // √ñzet kartlarƒ±nƒ± g√ºncelleme fonksiyonu
            const totalIncome = transactions // Toplam geliri hesapla
                .filter(t => t.type === 'income') // Sadece gelir i≈ülemlerini filtrele
                .reduce((sum, t) => sum + t.amount, 0); // Miktarlarƒ± topla
                
            const totalExpense = transactions // Toplam gideri hesapla
                .filter(t => t.type === 'expense') // Sadece gider i≈ülemlerini filtrele
                .reduce((sum, t) => sum + t.amount, 0); // Miktarlarƒ± topla
                
            const netBalance = totalIncome - totalExpense; // Net bakiyeyi hesapla

            document.getElementById('totalIncome').textContent = formatCurrency(totalIncome); // Toplam geliri g√∂ster
            document.getElementById('totalExpense').textContent = formatCurrency(totalExpense); // Toplam gideri g√∂ster
            document.getElementById('netBalance').textContent = formatCurrency(netBalance); // Net bakiyeyi g√∂ster
            
            // Bakiye rengi
            const balanceElement = document.getElementById('netBalance'); // Bakiye elementini al
            balanceElement.style.color = netBalance >= 0 ? '#28a745' : '#dc3545'; // Pozitifse ye≈üil, negatifse kƒ±rmƒ±zƒ±
        }

        // Para birimi formatƒ±
        function formatCurrency(amount) { // Para birimi formatlama fonksiyonu
            return new Intl.NumberFormat('tr-TR', { // T√ºrk√ße formatlama
                style: 'currency', // Para birimi stili
                currency: 'TRY', // T√ºrk Lirasƒ±
                minimumFractionDigits: 2 // En az 2 ondalƒ±k basamak
            }).format(amount); // Formatla ve d√∂nd√ºr
        }

        // ƒ∞≈ülem tablosunu g√ºncelleme
        function updateTransactionTable() { // ƒ∞≈ülem tablosunu g√ºncelleme fonksiyonu
            const tableBody = document.getElementById('transactionTableBody'); // Tablo g√∂vdesini al
            tableBody.innerHTML = ''; // Tabloyu temizle

            // ƒ∞≈ülemleri tarihe g√∂re sƒ±rala (en yeni en √ºstte)
            const sortedTransactions = [...transactions].sort((a, b) => new Date(b.date) - new Date(a.date)); // ƒ∞≈ülemleri tarihe g√∂re sƒ±rala

            sortedTransactions.forEach(transaction => { // Her i≈ülem i√ßin
                const row = document.createElement('tr'); // Yeni tablo satƒ±rƒ± olu≈ütur
                row.innerHTML = ` 
                    <td>${formatDate(transaction.date)}</td>
                    <td>
                        <span class="badge ${transaction.type === 'income' ? 'badge-success' : 'badge-danger'}">
                            ${transaction.type === 'income' ? 'üìà Gelir' : 'üìâ Gider'}
                        </span>
                    </td>
                    <td>${transaction.description}</td>
                    <td>${transaction.category || '-'}</td>
                    <td>
                        <strong class="${transaction.type === 'income' ? 'text-success' : 'text-danger'}">
                            ${transaction.type === 'income' ? '+' : '-'}${formatCurrency(Math.abs(transaction.amount))}
                        </strong>
                    </td>
                    <td>
                        <button class="delete-btn" onclick="deleteTransaction(${transaction.id})" title="Sil">
                            üóëÔ∏è Sil
                        </button>
                    </td>
                `;
                tableBody.appendChild(row); // Satƒ±rƒ± tabloya ekle
            });

            // Eƒüer hi√ß i≈ülem yoksa mesaj g√∂ster
            if (transactions.length === 0) { // ƒ∞≈ülem yoksa
                const row = document.createElement('tr'); // Yeni satƒ±r olu≈ütur
                row.innerHTML = ` 
                    <td colspan="6" style="text-align: center; padding: 40px; color: #6c757d;">
                        üìä Hen√ºz hi√ß kayƒ±t eklenmemi≈ü. Yukarƒ±daki formdan yeni kayƒ±t ekleyebilirsiniz.
                    </td>
                `;
                tableBody.appendChild(row); // Satƒ±rƒ± tabloya ekle
            }
        }

        // Tarih formatƒ±
        function formatDate(dateString) { // Tarih formatlama fonksiyonu
            const date = new Date(dateString); // String'i Date objesine √ßevir
            return date.toLocaleDateString('tr-TR', { // T√ºrk√ße tarih formatƒ±
                year: 'numeric', // Yƒ±l
                month: 'long', // Uzun ay adƒ±
                day: 'numeric' // G√ºn
            });
        }

        // Kategori analizini g√ºncelleme
        function updateCategoryAnalysis() { // Kategori analiz g√ºncelleme fonksiyonu
            const categoryStats = document.getElementById('categoryStats'); // Kategori istatistik alanƒ±nƒ± al
            categoryStats.innerHTML = ''; // Alanƒ± temizle

            // Gider kategorilerini grupla
            const expensesByCategory = {}; // Kategoriye g√∂re giderler objesi
            transactions
                .filter(t => t.type === 'expense') // Sadece giderleri filtrele
                .forEach(t => { // Her gider i√ßin
                    const category = t.category || 'Kategorisiz'; // Kategori adƒ±nƒ± al (yoksa 'Kategorisiz')
                    expensesByCategory[category] = (expensesByCategory[category] || 0) + t.amount; // Kategori toplamƒ±na ekle
                });

            // Kategori istatistiklerini g√∂ster
            Object.entries(expensesByCategory) // Kategori giri≈ülerini al
                .sort(([,a], [,b]) => b - a) // B√ºy√ºkten k√º√ß√ºƒüe sƒ±rala
                .forEach(([category, amount]) => { // Her kategori i√ßin
                    const totalExpense = transactions // Toplam gideri hesapla
                        .filter(t => t.type === 'expense') // Sadece giderleri filtrele
                        .reduce((sum, t) => sum + t.amount, 0); // Topla
                    
                    const percentage = totalExpense > 0 ? (amount / totalExpense * 100).toFixed(1) : 0; // Y√ºzdeyi hesapla
                    
                    const statCard = document.createElement('div'); // Yeni istatistik kartƒ± olu≈ütur
                    statCard.className = 'category-stat-card'; // CSS sƒ±nƒ±fƒ±nƒ± ata
                    statCard.innerHTML = `
                        <h4>üè∑Ô∏è ${category}</h4>
                        <div class="stat-amount">${formatCurrency(amount)}</div>
                        <div style="font-size: 0.9rem; color: #6c757d; margin-top: 5px;">
                            Toplam giderin %${percentage}'i
                        </div>
                    `;
                    categoryStats.appendChild(statCard); // Kartƒ± alana ekle
                });

            // Eƒüer hi√ß gider yoksa mesaj g√∂ster
            if (Object.keys(expensesByCategory).length === 0) { // Hi√ß kategori yoksa
                categoryStats.innerHTML = `
                    <div style="text-align: center; padding: 20px; color: #6c757d;">
                        üìä Hen√ºz hi√ß gider kaydƒ± yok.
                    </div>
                `;
            }
        }

        // Basit grafik √ßizimi (Canvas kullanarak)
        function drawChart() {
            const canvas = document.getElementById('incomeExpenseChart');
            const ctx = canvas.getContext('2d');
            
            // Canvas'ƒ± temizle
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const totalIncome = transactions
                .filter(t => t.type === 'income')
                .reduce((sum, t) => sum + t.amount, 0);
                
            const totalExpense = transactions
                .filter(t => t.type === 'expense')
                .reduce((sum, t) => sum + t.amount, 0);

            const total = totalIncome + totalExpense;
            
            if (total === 0) {
                // Veri yoksa mesaj g√∂ster
                ctx.fillStyle = '#6c757d';
                ctx.font = '16px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('Grafik i√ßin veri bekleniyor...', canvas.width / 2, canvas.height / 2);
                return;
            }

            // Pasta grafiƒüi √ßiz
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = Math.min(centerX, centerY) - 20;

            let startAngle = 0;

            // Gelir dilimi
            if (totalIncome > 0) {
                const incomeAngle = (totalIncome / total) * 2 * Math.PI;
                
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.arc(centerX, centerY, radius, startAngle, startAngle + incomeAngle);
                ctx.closePath();
                ctx.fillStyle = '#28a745';
                ctx.fill();
                
                startAngle += incomeAngle;
            }

            // Gider dilimi
            if (totalExpense > 0) {
                const expenseAngle = (totalExpense / total) * 2 * Math.PI;
                
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.arc(centerX, centerY, radius, startAngle, startAngle + expenseAngle);
                ctx.closePath();
                ctx.fillStyle = '#dc3545';
                ctx.fill();
            }

            // A√ßƒ±klamalar
            ctx.fillStyle = '#6c757d';
            ctx.font = '14px Arial';
            ctx.fillText('üìà Gelir: ' + formatCurrency(totalIncome), centerX - 80, canvas.height - 40);
            
            ctx.fillStyle = '#6c757d';
            ctx.fillText('üìâ Gider: ' + formatCurrency(totalExpense), centerX - 80, canvas.height - 20);
        }

        // Mesaj g√∂sterme
        function showMessage(message, type) {
            const messageArea = document.getElementById('messageArea');
            const messageClass = type === 'success' ? 'success-message' : 'error-message';
            
            messageArea.innerHTML = `<div class="${messageClass}">${message}</div>`;
            
            // 3 saniye sonra mesajƒ± temizle
            setTimeout(() => {
                messageArea.innerHTML = '';
            }, 3000);
        }

        // === CSV ƒ∞≈ûLEMLERƒ∞ ===

        // CSV olarak dƒ±≈üa aktarma
        function exportToCSV() {
            if (transactions.length === 0) {
                showMessage('Dƒ±≈üa aktarƒ±lacak veri bulunmuyor!', 'error');
                return;
            }

            const headers = ['Tarih', 'T√ºr', 'A√ßƒ±klama', 'Kategori', 'Miktar'];
            const csvContent = [
                headers.join(','),
                ...transactions.map(t => [
                    t.date,
                    t.type === 'income' ? 'Gelir' : 'Gider',
                    `"${t.description}"`, // Tƒ±rnak i√ßine al
                    t.category || '',
                    t.amount
                ].join(','))
            ].join('\n');

            // UTF-8 BOM ekle (T√ºrk√ße karakterler i√ßin)
            const BOM = '\uFEFF';
            const blob = new Blob([BOM + csvContent], { type: 'text/csv;charset=utf-8;' });
            
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            link.setAttribute('href', url);
            link.setAttribute('download', `finans_kayitlari_${new Date().toISOString().split('T')[0]}.csv`);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            showMessage('CSV dosyasƒ± ba≈üarƒ±yla indirildi!', 'success');
        }

        // CSV dosya y√ºkleme
        function handleCSVUpload(event) {
            const file = event.target.files[0];
            if (!file) return;

            if (!file.name.toLowerCase().endsWith('.csv')) {
                showMessage('L√ºtfen ge√ßerli bir CSV dosyasƒ± se√ßin!', 'error');
                return;
            }

            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    parseCSVContent(e.target.result);
                } catch (error) {
                    showMessage('CSV dosyasƒ± okuma hatasƒ±: ' + error.message, 'error');
                }
            };
            reader.readAsText(file, 'UTF-8');
        }

        // CSV i√ßeriƒüini ayrƒ±≈ütƒ±rma
        function parseCSVContent(csvContent) {
            const lines = csvContent.split('\n').filter(line => line.trim());
            
            if (lines.length < 2) {
                showMessage('CSV dosyasƒ± ge√ßersiz veya bo≈ü!', 'error');
                return;
            }

            const headers = lines[0].split(',').map(h => h.trim());
            let importedCount = 0;
            let errorCount = 0;

            for (let i = 1; i < lines.length; i++) {
                try {
                    const values = parseCSVLine(lines[i]);
                    
                    if (values.length >= 5) {
                        const transaction = {
                            id: Date.now() + Math.random(), // Benzersiz ID
                            userId: currentUser.id,
                            date: values[0],
                            type: values[1].toLowerCase().includes('gelir') ? 'income' : 'expense',
                            description: values[2].replace(/"/g, ''), // Tƒ±rnaklarƒ± kaldƒ±r
                            category: values[3] || '',
                            amount: parseFloat(values[4]),
                            timestamp: new Date().toISOString()
                        };

                        // Basit doƒürulama
                        if (transaction.date && transaction.description && transaction.amount > 0) {
                            transactions.push(transaction);
                            importedCount++;
                        } else {
                            errorCount++;
                        }
                    } else {
                        errorCount++;
                    }
                } catch (error) {
                    errorCount++;
                }
            }

            if (importedCount > 0) {
                saveUserData();
                updateDisplay();
                updateCategoryAnalysis();
                drawChart();
                showMessage(`${importedCount} kayƒ±t ba≈üarƒ±yla i√ße aktarƒ±ldƒ±! ${errorCount > 0 ? `(${errorCount} hatalƒ± satƒ±r atlandƒ±)` : ''}`, 'success');
            } else {
                showMessage('Hi√ßbir ge√ßerli kayƒ±t bulunamadƒ±!', 'error');
            }

            // File input'u sƒ±fƒ±rla
            document.getElementById('csvFileInput').value = '';
        }

        // CSV satƒ±rƒ±nƒ± ayrƒ±≈ütƒ±rma (basit parser)
        function parseCSVLine(line) {
            const result = [];
            let current = '';
            let inQuotes = false;
            
            for (let i = 0; i < line.length; i++) {
                const char = line[i];
                
                if (char === '"') {
                    inQuotes = !inQuotes;
                } else if (char === ',' && !inQuotes) {
                    result.push(current.trim());
                    current = '';
                } else {
                    current += char;
                }
            }
            
            result.push(current.trim());
            return result;
        }

        // Sayfa y√ºklendiƒüinde √ßalƒ±≈üacak ek CSS
        const additionalStyles = `
            .badge {
                padding: 4px 8px;
                border-radius: 12px;
                font-size: 0.75rem;
                font-weight: 600;
            }
            
            .badge-success {
                background-color: #d4edda;
                color: #155724;
            }
            
            .badge-danger {
                background-color: #f8d7da;
                color: #721c24;
            }
            
            .text-success {
                color: #28a745 !important;
            }
            
            .text-danger {
                color: #dc3545 !important;
            }
            
            .table-container {
                max-height: 600px;
                overflow-y: auto;
            }
            
            .table-container::-webkit-scrollbar {
                width: 8px;
            }
            
            .table-container::-webkit-scrollbar-track {
                background: #f1f1f1;
                border-radius: 10px;
            }
            
            .table-container::-webkit-scrollbar-thumb {
                background: #888;
                border-radius: 10px;
            }
            
            .table-container::-webkit-scrollbar-thumb:hover {
                background: #555;
            }
        `;

        // Ek stilleri head'e ekle
        const styleSheet = document.createElement('style');
        styleSheet.textContent = additionalStyles;
        document.head.appendChild(styleSheet);
    </script>
</body>
</html>